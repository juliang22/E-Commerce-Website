(this["webpackJsonpecommerce-frontend"]=this["webpackJsonpecommerce-frontend"]||[]).push([[0],{145:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var r=n(45),c=n.n(r),a=(n(95),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))}),i=n(12),s=n(0),o=n(1),d=(n(145),n(13)),j=n(20),l=n(196),u=n(197),b=n(121),O=function(){return Object(s.jsx)("footer",{children:Object(s.jsx)(l.a,{children:Object(s.jsx)(u.a,{children:Object(s.jsx)(b.a,{className:"text-center py-3",children:"Copyright \xa9 ProShop"})})})})},h=n(26),p=n(198),m=n(202),x=n(205),g=n(11),v=n(8),f=n(123),y=Object(o.createContext)(),I={user:null},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage.getItem("UserToken"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true"===localStorage.getItem("isAdmin");if(e){var n=Object(f.a)(e);if(console.log(n),!(1e3*n.exp<Date.now))return I.user=Object(i.a)(Object(i.a)({},n),{},{isAdmin:t}),localStorage.setItem("isAdmin",t),I.user;localStorage.removeItem("UserToken")}};P();var S=function(e,t){switch(t.type){case"LOGIN":var n=P(t.payload.token,t.payload.isAdmin);return Object(i.a)(Object(i.a)({},e),{},{user:n});case"LOGOUT":return Object(i.a)(Object(i.a)({},e),{},{user:null});default:return e}},C=function(e){var t=Object(o.useReducer)(S,I),n=Object(v.a)(t,2),r=n[0],c=n[1];return Object(s.jsx)(y.Provider,Object(i.a)({value:{user:r.user,login:function(e){localStorage.setItem("UserToken",e.token),c({type:"LOGIN",payload:e})},update:function(e){localStorage.setItem("UserToken",e.token),c({type:"UPDATE",payload:e})},logout:function(){localStorage.clear(),c({type:"LOGOUT"})}}},e))},k=function(){var e=Object(o.useContext)(y),t=e.user,n=e.logout;return Object(s.jsxs)("header",{children:[!t&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(g.ApolloConsumer,{children:function(e){e.clearStore(),e.cache.gc()}}),Object(s.jsx)(j.Redirect,{to:"/login"})]}),Object(s.jsx)(x.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(s.jsxs)(l.a,{children:[Object(s.jsx)(h.LinkContainer,{to:"/",children:Object(s.jsx)(x.a.Brand,{children:"ProShop"})}),Object(s.jsx)(x.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsx)(x.a.Collapse,{id:"basic-navbar-nav",children:Object(s.jsxs)(p.a,{className:"ml-auto",children:[t?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(h.LinkContainer,{to:"/cart",children:Object(s.jsxs)(p.a.Link,{children:[Object(s.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),Object(s.jsxs)(m.a,{title:t.username,children:[Object(s.jsx)(h.LinkContainer,{to:"/profile",children:Object(s.jsxs)(m.a.Item,{children:[" ",Object(s.jsx)("i",{className:"fas fa-user py-3"}),"\xa0\xa0Profile"]})}),Object(s.jsxs)(m.a.Item,{onClick:function(e){return function(e){e.preventDefault(),n()}(e)},children:[Object(s.jsx)("i",{className:"fas fa-sign-out-alt"}),"\xa0\xa0Logout"]})]})]}):Object(s.jsx)(h.LinkContainer,{to:"/login",children:Object(s.jsxs)(p.a.Link,{children:[Object(s.jsx)("i",{className:"fas fa-user"})," Login"]})}),(null===t||void 0===t?void 0:t.isAdmin)&&Object(s.jsxs)(m.a,{title:"Admin",id:"adminmenu",children:[Object(s.jsx)(h.LinkContainer,{to:"/admin/userlist",children:Object(s.jsxs)(m.a.Item,{children:[Object(s.jsx)("i",{className:"fas fa-users py-3"}),"\xa0\xa0User List"]})}),Object(s.jsx)(h.LinkContainer,{to:"/admin/productslist",children:Object(s.jsxs)(m.a.Item,{children:[Object(s.jsx)("i",{className:"fas fa-gift py-3"}),"\xa0\xa0Product List"]})}),Object(s.jsx)(h.LinkContainer,{to:"/admin/orderslist",children:Object(s.jsxs)(m.a.Item,{children:[Object(s.jsx)("i",{className:"fas fa-clipboard-list py-3"}),"\xa0\xa0Order List"]})})]})]})})]})})]})},A=n(32),w=n(23),$=n(18),D=n.n($);function L(){var e=Object(w.a)(["\n\tmutation createReview($productID: ID! $rating: Int! $comment: String!){\n\t\tcreateReview(productID: $productID rating: $rating comment: $comment) \n\t}\n"]);return L=function(){return e},e}function N(){var e=Object(w.a)(["\n\tmutation markOrderAsDelivered($orderID: ID!){\n\t\tmarkOrderAsDelivered(orderID: $orderID) \n\t}\n"]);return N=function(){return e},e}function E(){var e=Object(w.a)(["\n\tmutation editAdminStatus($id: ID!){\n\t\teditAdminStatus(id: $id) \n\t}\n"]);return E=function(){return e},e}function R(){var e=Object(w.a)(["\n\tmutation deleteUser($id: ID!){\n\t\tdeleteUser(id: $id) \n\t}\n"]);return R=function(){return e},e}function M(){var e=Object(w.a)(["\n\t{\n\t\tgetUsers {\n\t\t\tusername\n\t\t\temail\n\t\t\tpassword\n\t\t\tisAdmin\n\t\t\t_id\n\t\t}\n\t}\n"]);return M=function(){return e},e}function T(){var e=Object(w.a)(["\n\t{\n\t\tgetOrders {\n\t\t\tuser { username, _id }\n\t\t\torderItems {\n\t\t\t\tproduct {name image id price}\n      \t\t\tqtyOrdered\n    \t\t}\n\t\t\tshippingAddress { address city postalCode country }\n\t\t\tpaymentMethod\n\t\t\ttaxPrice\n\t\t\tshippingPrice\n\t\t\ttotalPrice\n\t\t\tpaymentResult { paidAt }\n\t\t\tisDelivered\n\t\t\tdeliveredAt\n\t\t\t_id\n\t\t}\n\t}\n"]);return T=function(){return e},e}function _(){var e=Object(w.a)(["\n\tquery($orderID: ID!) {\n\t\tgetUserOrder(orderID: $orderID) {\n\t\t\tuser { username, _id }\n\t\t\torderItems {\n\t\t\t\tproduct {name image id price}\n      \t\t\tqtyOrdered\n    \t\t}\n\t\t\tshippingAddress { address city postalCode country }\n\t\t\tpaymentMethod\n\t\t\ttaxPrice\n\t\t\tshippingPrice\n\t\t\ttotalPrice\n\t\t\tpaymentResult { paidAt }\n\t\t\tisDelivered\n\t\t\tdeliveredAt\n\t\t\t_id\n\t\t}\n\t}\n"]);return _=function(){return e},e}function q(){var e=Object(w.a)(["\n{\n\tgetUserOrders {\n\t\tuser { username, _id }\n\t\torderItems {\n\t\t\tproduct {name image id price}\n\t\t\tqtyOrdered\n\t\t}\n\t\tshippingAddress { address city postalCode country }\n\t\tpaymentMethod\n\t\ttaxPrice\n\t\tshippingPrice\n\t\ttotalPrice\n\t\tpaymentResult { paidAt }\n\t\tisDelivered\n\t\tdeliveredAt\n\t\t_id\n\t}\n  }\n"]);return q=function(){return e},e}function U(){var e=Object(w.a)(["\n{\n\tgetPayPalClientID \n}\n"]);return U=function(){return e},e}function G(){var e=Object(w.a)(["\nmutation createOrder(\n\t$orderItems: [OrderProductInput]!\n\t$shippingAddress: ShippingAddress!\n\t$paymentMethod: String!\n\t$paymentResult: PaymentInput!\n\t$itemsPrice: Float!\n\t$shippingPrice: Float!\n\t$taxPrice: Float!\n\t$totalPrice: Float!) {\n\tcreateOrder(\n\t\torderItems: $orderItems \n\t\tshippingAddress: $shippingAddress \n\t\tpaymentMethod: $paymentMethod \n\t\tpaymentResult: $paymentResult\n\t\titemsPrice: $itemsPrice \n\t\tshippingPrice: $shippingPrice \n\t\ttaxPrice: $taxPrice \n\t\ttotalPrice: $totalPrice) {\n\t\t\tuser { username _id }\n\t\t\torderItems {\n\t\t\t\tproduct { name }\n\t\t\t\tqtyOrdered\n\t\t\t}\n\t\t\tshippingAddress {city address postalCode country}\n\t\t\tpaymentMethod\n\t\t\tpaymentResult { emailAddress paidAt paymentID }\n\t\t\ttaxPrice\n\t\t\tshippingPrice\n\t\t\ttotalPrice\n\t\t\tisDelivered\n\t\t\tdeliveredAt\n\t\t\tcreatedAt\n\t\t\t_id\n\t  \t}\n\t}\n"]);return G=function(){return e},e}function F(){var e=Object(w.a)(["\nmutation updateUserProfile($username: String $email: String $password: String) {\n\tupdateUserProfile(username: $username email: $email password: $password) {\n\t\tusername\n\t\temail\n\t\ttoken\n\t  }\n} \n"]);return F=function(){return e},e}function Q(){var e=Object(w.a)(["\n  mutation register($username: String!\n\t$email: String! \n\t$password: String!\n\t$confirmPassword: String!) {\n    register(username: $username email: $email password: $password confirmPassword: $confirmPassword) {\n\t  email\n      password\n    }\n  }\n"]);return Q=function(){return e},e}function B(){var e=Object(w.a)(["\n  mutation login($email: String! $password: String!) {\n    login(email: $email password: $password) {\n\t  email\n\t  token\n\t  isAdmin\n      username\n    }\n  }\n"]);return B=function(){return e},e}function J(){var e=Object(w.a)(["\n  mutation editProduct(\n\t  \t$id: ID!\n\t \t$name: String\n\t\t$image: Upload\n\t\t$description: String\n\t\t$brand: String\n\t\t$category: String\n\t\t$price: Float\n\t\t$countInStock: Int\n  ) {\n\teditProduct(\n\t\tid: $id\n\t \tname: $name\n\t\timage: $image\n\t\tdescription: $description\n\t\tbrand: $brand\n\t\tcategory: $category\n\t\tprice: $price\n\t\tcountInStock: $countInStock\n\t) {\n\t\tname\n\t\timage\n\t\tdescription\n\t\tbrand\n\t\tcategory\n\t\tprice\n\t\tcountInStock\n\t\tid\n\t}\n  }\n"]);return J=function(){return e},e}function V(){var e=Object(w.a)(["\n  mutation createProduct(\n\t \t$name: String!\n\t\t$image: Upload!\n\t\t$description: String!\n\t\t$brand: String!\n\t\t$category: String!\n\t\t$price: Float!\n\t\t$countInStock: Int!\n  ) {\n\tcreateProduct(\n\t \tname: $name\n\t\timage: $image\n\t\tdescription: $description\n\t\tbrand: $brand\n\t\tcategory: $category\n\t\tprice: $price\n\t\tcountInStock: $countInStock\n\t) {\n\t\tname\n\t\timage\n\t\tdescription\n\t\tbrand\n\t\tcategory\n\t\tprice\n\t\tcountInStock\n\t\tid\n\t}\n  }\n"]);return V=function(){return e},e}function H(){var e=Object(w.a)(["\n  mutation deleteProduct($id: ID!) {\n\tdeleteProduct(id: $id) \n  }\n"]);return H=function(){return e},e}function Y(){var e=Object(w.a)(["\n\t{\n\t\tgetTopProducts {\n\t\t\tname\n\t\t\timage\n\t\t\tprice\n\t\t\tid\n\t\t}\n  }\n"]);return Y=function(){return e},e}function W(){var e=Object(w.a)(["\n\tquery($_id: ID){\n\t\tgetProducts(_id: $_id) {\n\t\tname\n\t\timage\n\t\tdescription\n\t\tbrand\n\t\tcategory\n\t\tprice\n\t\tcountInStock\n\t\trating\n\t\tnumReviews\n\t\tid\n\t\t}\n  }\n"]);return W=function(){return e},e}function z(){var e=Object(w.a)(["\n\tquery($productID: ID!) {\n\t\tgetProduct(productID: $productID) {\n\t\t\tname\n\t\t\timage\n\t\t\tdescription\n\t\t\tbrand\n\t\t\tcategory\n\t\t\tprice\n\t\t\tcountInStock\n\t\t\trating\n\t\t\tnumReviews\n\t\t\tid\n\t\t\treviews {username, rating, comment, createdAt}\n\t\t}\n\t}\n"]);return z=function(){return e},e}var K=D()(z()),X=D()(W()),Z=D()(Y()),ee=D()(H()),te=D()(V()),ne=D()(J()),re=D()(B()),ce=D()(Q()),ae=D()(F()),ie=D()(G()),se=D()(U()),oe=D()(q()),de=D()(_()),je=D()(T()),le=D()(M()),ue=D()(R()),be=D()(E()),Oe=D()(N()),he=D()(L()),pe=n(90),me=n(138),xe=n(83),ge=n(206),ve=function(e){var t=e.variant,n=e.error;return Object(s.jsx)(ge.a,{variant:t,children:JSON.stringify(n.message).split('"').map((function(e){return"\\"===e.charAt(e.length-1)?e.slice(0,-1):e}))})};ve.defaultProps={variant:"info"};var fe=ve,ye=n(207),Ie=function(e){var t=e.value,n=e.numReviews,r=e.color,c=new Array(5).fill(0);return Object(s.jsxs)("div",{className:"rating",children:[c.map((function(e,n){return c=n+1,Object(s.jsx)("span",{children:Object(s.jsx)("i",{style:{color:r},className:t>=c?"fas fa-star":t>=c-.5?"fas fa-star-half-alt":"far fa-star"})},Math.random());var c})),Object(s.jsx)("span",{children:n&&n})]})};Ie.defaultProps={color:"#FFD700"};var Pe=Ie,Se=n(27),Ce=n.n(Se),ke=function(e){var t=e.product;return Object(s.jsxs)(ye.a,{className:"my-3 p-3 rounded",children:[Object(s.jsx)(d.Link,{to:"/product/".concat(null===t||void 0===t?void 0:t.id),children:(null===t||void 0===t?void 0:t.image)?Object(s.jsx)(ye.a.Img,{src:null===t||void 0===t?void 0:t.image,variant:"top"}):Object(s.jsx)(Ce.a,{width:205,duration:2,height:205})}),Object(s.jsxs)(ye.a.Body,{children:[Object(s.jsx)(d.Link,{to:"/product/".concat(null===t||void 0===t?void 0:t.id),children:Object(s.jsxs)(ye.a.Title,{as:"div",children:[" ",Object(s.jsx)("strong",{children:(null===t||void 0===t?void 0:t.name)||Object(s.jsx)(Ce.a,{count:2})})]})}),(null===t||void 0===t?void 0:t.rating)&&Object(s.jsx)(ye.a.Text,{as:"div",children:Object(s.jsx)(Pe,{value:null===t||void 0===t?void 0:t.rating,numReviews:"".concat(null===t||void 0===t?void 0:t.numReviews," reviews")})}),Object(s.jsxs)(ye.a.Text,{as:"h3",children:[" ",(null===t||void 0===t?void 0:t.price)?"$".concat(null===t||void 0===t?void 0:t.price):Object(s.jsx)(Ce.a,{count:1})]})]})]})},Ae=n(203),we=n(125),$e=function(e){var t=e.setQuery;return Object(s.jsxs)(Ae.a,{onSubmit:function(e){e.preventDefault()},inline:!0,children:[Object(s.jsx)(Ae.a.Control,{as:"input",type:"text",onChange:function(e){return t(e.target.value)},placeholder:"Search Products...",className:"mr-sm-2 ml-sm-5 outline",style:{outline:"red",borderWidth:"2px"}}),Object(s.jsx)(we.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Search"})]})},De=n(204),Le=n(199),Ne=function(){var e=Object(g.useQuery)(Z),t=e.data;return e.loading?Object(s.jsx)("h1",{children:"Loading.."}):Object(s.jsx)(De.a,{pause:"hover",className:"bg-dark",style:{marginBottom:"50px"},children:null===t||void 0===t?void 0:t.getTopProducts.map((function(e){return Object(s.jsx)(De.a.Item,{children:Object(s.jsxs)(d.Link,{to:"/product/".concat(e.id),children:[Object(s.jsx)(Le.a,{src:e.image,alt:e.name,className:"justify-content-md-center",fluid:!0}),Object(s.jsx)(De.a.Caption,{className:"carousel-caption",children:Object(s.jsxs)("h2",{children:[" ",e.name," ($",e.price,")"]})})]})},e.id)}))})},Ee=function(e){var t=e.title,n=e.description,r=e.keywords;return Object(s.jsxs)(pe.a,{children:[Object(s.jsx)("title",{children:t}),Object(s.jsx)("meta",{name:"description",content:n}),Object(s.jsx)("meta",{name:"keyword",content:r})]})};Ee.defaultProps={title:"Welcome To ProShop",description:"We sell the best products for cheap",keywords:"electronics, buy electronics, cheap electroincs"};var Re=Ee,Me=function(){var e=Object(g.useQuery)(X),t=e.data,n=e.loading,r=e.error,c=e.fetchMore,a=new Array(12).fill(null),i=Object(o.useState)(""),d=Object(v.a)(i,2),j=d[0],l=d[1],O=null===t||void 0===t?void 0:t.getProducts;if(!n){var h=new me.a(O,{shouldSort:!0,threshold:.4,distance:50,keys:["name","description","brand"]});j.length>0&&(O=(O=h.search(j)).map((function(e){return e.item})))}return r?Object(s.jsx)(fe,{variant:"danger",error:r}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{}),n?Object(s.jsx)(u.a,{children:a.map((function(e,t){return Object(s.jsx)(b.a,{sm:12,md:6,lg:4,xl:3,children:Object(s.jsx)(ke,{product:e})},t)}))}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ne,{}),Object(s.jsx)($e,{setQuery:l}),Object(s.jsx)(u.a,{children:O.map((function(e,n){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(b.a,{sm:12,md:6,lg:4,xl:3,children:Object(s.jsx)(ke,{product:e})},e.id),n===t.getProducts.length-10&&Object(s.jsx)(xe.a,{onEnter:function(){return c({variables:{_id:e.id},updateQuery:function(e,t){var n=t.fetchMoreResult;if(n)return{getProducts:[].concat(Object(A.a)(e.getProducts),Object(A.a)(n.getProducts))}}})}})]})}))})]})]})},Te=n(208),_e=n(139),qe=Object(o.createContext)(),Ue=function(e,t){switch(t.type){case"ADD_TO_CART":return e.cartItems.hasOwnProperty(t.payload.name)?e.cartItems[t.payload.name].qty=Number(t.payload.qty)+Number(e.cartItems[t.payload.name].qty):e.cartItems[t.payload.name]=t.payload,void localStorage.setItem("cartItems",JSON.stringify(Object(i.a)({},e.cartItems)));case"UPDATE_CART":return t.payload.qty?e.cartItems[t.payload.name]=t.payload:e.cartItems=Object.keys(e.cartItems).reduce((function(n,r){return r!==t.payload.name&&(n[r]=e.cartItems[r]),n}),{}),void localStorage.setItem("cartItems",JSON.stringify(Object(i.a)({},e.cartItems)));case"DELETE_CART":return e.cartItems={},e.shippingAddress={},e.paymentInfo={},localStorage.removeItem("cartItems",{}),void localStorage.removeItem("shippingAddress",{});case"SAVE_ADDRESS":return e.shippingAddress=t.payload,void localStorage.setItem("shippingAddress",JSON.stringify(e.shippingAddress));case"SAVE_PAYMENT_METHOD":return void(e.paymentInfo.payment=t.payload);default:return e}},Ge={cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):{},shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentInfo:localStorage.getItem("paymentInfo")?JSON.parse(localStorage.getItem("paymentInfo")):{}},Fe=function(e){var t=Object(_e.a)(Ue,Ge),n=Object(v.a)(t,2),r=n[0],c=n[1];return Object(s.jsx)(qe.Provider,Object(i.a)({value:{cartItems:r.cartItems,shippingAddress:r.shippingAddress,paymentInfo:r.paymentInfo,addToCart:function(e){c({type:"ADD_TO_CART",payload:e})},updateCart:function(e){c({type:"UPDATE_CART",payload:e})},deleteCart:function(){c({type:"DELETE_CART"})},saveAddress:function(e){c({type:"SAVE_ADDRESS",payload:e})},savePaymentMethod:function(e){c({type:"SAVE_PAYMENT_METHOD",payload:e})}}},e))},Qe=n(132),Be=function(e){var t=e.reviews,n=e.user,r=e.productID,c=(e.numReviews,Object(o.useState)(!1)),a=Object(v.a)(c,2),i=a[0],d=a[1],j=Object(o.useState)(""),l=Object(v.a)(j,2),O=l[0],h=l[1],p=Object(o.useState)(!1),m=Object(v.a)(p,2),x=m[0],f=m[1],y=Object(g.useMutation)(he,{refetchQueries:[{query:K,variables:{productID:r}}],onCompleted:function(e){e&&f(Object(s.jsx)(ge.a,{variant:"success",children:"Review submitted successfully"}))},onError:function(e){f(Object(s.jsx)(fe,{variant:"danger",error:e}))}}),I=Object(v.a)(y,1)[0];return Object(s.jsx)(u.a,{children:Object(s.jsxs)(b.a,{md:6,children:[Object(s.jsx)("h2",{children:"Reviews"}),0===t.length&&Object(s.jsx)(ge.a,{variant:"info",children:"No Reviews"}),Object(s.jsxs)(Te.a,{variant:"flush",children:[t&&t.map((function(e){return Object(s.jsxs)(Te.a.Item,{children:[Object(s.jsx)("strong",{children:e.username}),Object(s.jsx)(Pe,{value:e.rating}),Object(s.jsx)("p",{children:new Date(e.createdAt).toDateString()}),Object(s.jsx)("p",{children:e.comment})]},e._id)})),Object(s.jsxs)(Te.a.Item,{children:[Object(s.jsx)("h2",{children:"Write a Customer Review"}),x,n?Object(s.jsxs)(Ae.a,{onSubmit:function(e){e.preventDefault(),I({variables:{comment:O,rating:Number(i),productID:r}}),d(!1),h("")},children:[Object(s.jsxs)(Ae.a.Group,{controlId:"rating",children:[Object(s.jsx)(Ae.a.Label,{children:"Rating"}),Object(s.jsxs)(Ae.a.Control,{as:"select",value:i,onChange:function(e){return d(e.target.value)},children:[Object(s.jsx)("option",{value:"",children:"Select..."}),Object(s.jsx)("option",{value:"1",children:"1 - Poor"}),Object(s.jsx)("option",{value:"2",children:"2 - Fair"}),Object(s.jsx)("option",{value:"3",children:"3 - Good"}),Object(s.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(s.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"comment",children:[Object(s.jsx)(Ae.a.Label,{children:"Comment"}),Object(s.jsx)(Ae.a.Control,{as:"textarea",row:"3",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(s.jsx)(we.a,{type:"submit",variant:"primary",children:"Submit"})]}):Object(s.jsxs)(ge.a,{children:["Please ",Object(s.jsx)(Qe.Link,{to:"/login",children:"sign in"})," to write a review"," "]})]})]})]})})},Je=function(e){var t=e.history,n=e.match.params.id,r=Object(g.useQuery)(K,{variables:{productID:n}}),c=r.data,a=r.loading,j=r.queryError,l=(null===c||void 0===c?void 0:c.getProduct)||{name:"",image:"",rating:"",price:"",description:"",numReviews:"",countInStock:"",reviews:{}},O=l.name,h=l.image,p=l.rating,m=l.price,x=l.description,f=l.numReviews,I=l.countInStock,P=l.reviews,S=Object(o.useState)(1),C=Object(v.a)(S,2),k=C[0],A=C[1],w=Object(o.useState)(null),$=Object(v.a)(w,2),D=$[0],L=$[1],N=Object(o.useContext)(qe),E=N.addToCart,R=N.cartItems,M=Object(o.useContext)(y).user;if(!j){var T,_=function(){var e;return!(!R||!Object.keys(R).length||I-~~(null===(e=R[O])||void 0===e?void 0:e.qty)!==0)};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{title:O,description:x}),Object(s.jsx)(d.Link,{to:"/",className:"btn btn-dark my-3",children:"Go Back"}),Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{col:6,children:O?Object(s.jsx)(Le.a,{onError:function(e){return e.target.style.display="none"},src:h,alt:O,fluid:!0}):Object(s.jsx)(Ce.a,{width:300,height:250})}),Object(s.jsx)(b.a,{col:6,children:Object(s.jsxs)(Te.a,{variant:"flush",children:[Object(s.jsx)(Te.a.Item,{children:Object(s.jsx)("h3",{children:O||Object(s.jsx)(Ce.a,{count:1,height:60})})}),p&&Object(s.jsx)(Te.a.Item,{children:Object(s.jsx)(Pe,{value:p,numReviews:"".concat(f," Reviews")})}),Object(s.jsx)(Te.a.Item,{children:m?"Price: $".concat(m):Object(s.jsx)(Ce.a,{count:1})}),Object(s.jsx)(Te.a.Item,{children:x?"".concat(x):Object(s.jsx)(Ce.a,{count:1})})]})}),Object(s.jsx)(b.a,{md:3,children:Object(s.jsxs)(ye.a,{children:[Object(s.jsxs)(Te.a,{variant:"flush",children:[Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"Price:"}),Object(s.jsx)(b.a,{children:Object(s.jsxs)("strong",{children:["$",m]})})]})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"Status:"}),Object(s.jsx)(b.a,{children:I>0?_()?"Full Quantity in Cart":"In Stock":"Out of Stock"})]})}),I>0&&!_()&&Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"QTY"}),Object(s.jsx)(b.a,{children:Object(s.jsx)(Ae.a.Control,{as:"select",value:k,onChange:function(e){return A(e.target.value)},children:Array(I-~~(null===(T=R[O])||void 0===T?void 0:T.qty)).fill(null).map((function(e,t){return Object(s.jsx)("option",{value:t+1,children:t+1},t+1)}))})})]})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsx)(we.a,{className:"btn-block",type:"button",disabled:0===I||_(),onClick:function(e){return function(e){M?(t.push("/cart/".concat(n,"?qty=").concat(k)),A(e.target.value),E(Object(i.a)(Object(i.a)({},null===c||void 0===c?void 0:c.getProduct),{},{qty:k}))):L(Object(s.jsxs)(ge.a,{variant:"danger",style:{textAlign:"center"},error:{message:""},children:[Object(s.jsx)(d.Link,{to:"/login",children:" Log In "})," or ",Object(s.jsx)(d.Link,{to:"/register",children:" Register  "}),Object(s.jsx)("br",{}),"To Add Items To Cart"]}))}(e)},children:" Add to Cart"})})]}),D]})})]}),!a&&Object(s.jsx)(Be,{reviews:P,user:M,productID:n,numReviews:"".concat(f," Reviews")})]})}L(Object(s.jsx)(fe,{variant:"danger",error:fe}))},Ve=function(e){var t=e.children;return Object(s.jsx)(l.a,{children:Object(s.jsx)(u.a,{className:"justify-content-md-center",children:Object(s.jsx)(b.a,{xs:12,md:6,children:t})})})},He=function(e){e.location;var t=e.history,n=Object(o.useState)(""),r=Object(v.a)(n,2),c=r[0],a=r[1],i=Object(o.useState)({}),j=Object(v.a)(i,2),l=j[0],O=j[1],h=Object(o.useState)(""),p=Object(v.a)(h,2),m=p[0],x=p[1],f=Object(o.useContext)(y).login,I=Object(g.useMutation)(re,{update:function(e,n){console.log("Logged in data: ",n.data.login),f(n.data.login),t.push("/")},onError:function(e){O(e),console.log(e)}}),P=Object(v.a)(I,2),S=P[0],C=P[1].loading;return Object(s.jsxs)(Ve,{children:[Object(s.jsx)(Re,{title:"Login"}),Object(s.jsx)("h1",{children:"Sign In"}),Object.keys(l).length>0&&Object(s.jsx)(fe,{error:l,variant:"danger"}),Object(s.jsxs)(Ae.a,{onSubmit:function(e){e.preventDefault(),S({variables:{email:c,password:m}})},children:[Object(s.jsxs)(Ae.a.Group,{controlId:"email",children:[Object(s.jsx)(Ae.a.Label,{children:"Email Address"}),Object(s.jsx)(Ae.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"password",children:[Object(s.jsx)(Ae.a.Label,{children:"Password"}),Object(s.jsx)(Ae.a.Control,{type:"password",placeholder:"Enter password",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(s.jsx)(we.a,{type:"submit",variant:"primary",children:C?"Logging In ":"Sign In"})]}),Object(s.jsx)(u.a,{className:"py-3",children:Object(s.jsxs)(b.a,{children:["New Customer?"," ",Object(s.jsx)(d.Link,{to:"/register",children:"Register"})]})})]})},Ye=function(e){e.match,e.location;var t=e.history,n=Object(o.useContext)(qe),r=n.cartItems,c=n.updateCart;return Object(s.jsxs)(u.a,{children:[Object(s.jsx)(Re,{title:"Cart"}),Object(s.jsxs)(b.a,{md:8,children:[Object(s.jsx)("h1",{children:"Shopping Cart"}),0===Object.keys(r).length?Object(s.jsx)(fe,{error:{message:"Your cart is empty"},children:Object(s.jsx)(d.Link,{to:"/",children:"Go Back"})}):Object(s.jsx)(Te.a,{variant:"flush",children:Object.values(r).map((function(e){return Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{md:2,children:Object(s.jsx)(Le.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(s.jsx)(b.a,{md:6,children:Object(s.jsx)(d.Link,{to:"/product/".concat(e.id),children:e.name})}),Object(s.jsxs)(b.a,{md:2,children:["$",e.price]}),Object(s.jsxs)(b.a,{md:2,children:[Object(s.jsx)(Ae.a.Control,{as:"select",value:e.qty,onChange:function(t){return c(Object(i.a)(Object(i.a)({},e),{},{qty:Number(t.target.value)}))},children:Array(e.countInStock).fill(null).map((function(e,t){return Object(s.jsx)("option",{value:t+1,children:t+1},t+1)}))}),Object(s.jsx)(b.a,{md:2,children:Object(s.jsx)(we.a,{type:"button",variant:"light",onClick:function(){return c(Object(i.a)(Object(i.a)({},e),{},{qty:0}))},children:Object(s.jsx)("i",{className:"fas fa-trash"})})})]})]})},e.name)}))})]}),Object(s.jsx)(b.a,{md:4,children:Object(s.jsx)(ye.a,{children:Object(s.jsxs)(Te.a,{variant:"flush",children:[Object(s.jsxs)(Te.a.Item,{children:[Object(s.jsxs)("h2",{children:["Subtotal: (",r?Object.values(r).reduce((function(e,t){return e+Number(t.qty)}),0):0,")"]}),"$",r?Object.values(r).reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2):0]}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsx)(we.a,{type:"button",className:"btn-block",disabled:0===Object.values(r).length,onClick:function(e){t.push("/shipping")},children:"Proceed to Checkout"})})]})})}),Object(s.jsx)(b.a,{md:8})]})},We=function(e){e.location;var t=e.history,n=Object(o.useState)(""),r=Object(v.a)(n,2),c=r[0],a=r[1],i=Object(o.useState)(""),l=Object(v.a)(i,2),O=l[0],h=l[1],p=Object(o.useState)(""),m=Object(v.a)(p,2),x=m[0],f=m[1],I=Object(o.useState)(""),P=Object(v.a)(I,2),S=P[0],C=P[1],k=Object(o.useState)(""),A=Object(v.a)(k,2),w=A[0],$=A[1],D=Object(o.useContext)(y),L=D.login,N=D.user,E=Object(g.useMutation)(re,{update:function(e,n){console.log("logged in: ",n.data.login),L(n.data.login),t.push("/")},onError:function(e){a(e),console.log(e)}}),R=Object(v.a)(E,1)[0],M=Object(g.useMutation)(ce,{update:function(e,t){R({variables:{email:x,password:S}})},onError:function(e){a(e),console.log(e)}}),T=Object(v.a)(M,1)[0];return N?Object(s.jsx)(j.Redirect,{to:"/"}):Object(s.jsxs)(Ve,{children:[Object(s.jsx)(Re,{title:"Register"}),Object(s.jsx)("h1",{children:"Sign Up"}),Object.keys(c).length>0&&Object(s.jsx)(fe,{error:c,variant:"danger"}),Object(s.jsxs)(Ae.a,{onSubmit:function(e){e.preventDefault(),T({variables:{username:O,email:x,password:S,confirmPassword:w}})},children:[Object(s.jsxs)(Ae.a.Group,{controlId:"name",children:[Object(s.jsx)(Ae.a.Label,{children:"Name"}),Object(s.jsx)(Ae.a.Control,{type:"name",placeholder:"Enter name",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"email",children:[Object(s.jsx)(Ae.a.Label,{children:"Email Address"}),Object(s.jsx)(Ae.a.Control,{type:"email",placeholder:"Enter email",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"password",children:[Object(s.jsx)(Ae.a.Label,{children:"Password"}),Object(s.jsx)(Ae.a.Control,{type:"password",placeholder:"Enter password",value:S,onChange:function(e){return C(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"confirmPassword",children:[Object(s.jsx)(Ae.a.Label,{children:"Confirm Password"}),Object(s.jsx)(Ae.a.Control,{type:"password",placeholder:"Confirm password",value:w,onChange:function(e){return $(e.target.value)}})]}),Object(s.jsx)(we.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(s.jsx)(u.a,{className:"py-3",children:Object(s.jsxs)(b.a,{children:["Have an Account?"," ",Object(s.jsx)(d.Link,{to:"/login",children:"Login"})]})})]})},ze=n(200),Ke=function(e){e.location,e.history;var t=Object(o.useState)(""),n=Object(v.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)(""),i=Object(v.a)(a,2),d=i[0],j=i[1],l=Object(o.useState)(""),O=Object(v.a)(l,2),p=O[0],m=O[1],x=Object(o.useState)(""),f=Object(v.a)(x,2),I=f[0],P=f[1],S=Object(o.useState)(null),C=Object(v.a)(S,2),k=C[0],A=C[1],w=Object(o.useState)(null),$=Object(v.a)(w,2),D=$[0],L=$[1],N=Object(o.useContext)(y),E=N.login,R=N.user,M=R.username,T=R.email,_=Object(g.useQuery)(oe),q=_.data,U=_.loading,G=Object(g.useMutation)(ae,{update:function(e,t){L(Object(s.jsx)(ge.a,{variant:"success",children:"Profile Updated"})),console.log("result",t.data.updateUserProfile),E(t.data.updateUserProfile),A(!1),c(""),j(""),P(""),m("")},onError:function(e){L(null),A(Object(s.jsx)(fe,{variant:"danger",error:e}))}}),F=Object(v.a)(G,1)[0];return Object(s.jsxs)(u.a,{children:[Object(s.jsx)(Re,{title:"Profile"}),Object(s.jsxs)(b.a,{md:4,children:[Object(s.jsx)("h2",{children:"Update Profile"}),k,D,Object(s.jsxs)(Ae.a,{onSubmit:function(e){e.preventDefault(),p!==I?(A(Object(s.jsx)(ge.a,{variant:"danger",children:"Passwords do not match"})),L(null)):F({variables:{username:r,email:d,password:p}})},children:[Object(s.jsxs)(Ae.a.Group,{controlId:"name",children:[Object(s.jsx)(Ae.a.Label,{children:"Username"}),Object(s.jsx)(Ae.a.Control,{type:"name",placeholder:"current username: ".concat(M),value:r,onChange:function(e){return c(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"email",children:[Object(s.jsx)(Ae.a.Label,{children:"Email Address"}),Object(s.jsx)(Ae.a.Control,{type:"email",placeholder:"current email: ".concat(T),value:d,onChange:function(e){return j(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"password",children:[Object(s.jsx)(Ae.a.Label,{children:"New Password"}),Object(s.jsx)(Ae.a.Control,{type:"password",placeholder:"Enter new password",value:p,onChange:function(e){return m(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"confirmPassword",children:[Object(s.jsx)(Ae.a.Label,{children:"Confirm New Password"}),Object(s.jsx)(Ae.a.Control,{type:"password",placeholder:"Confirm new password",value:I,onChange:function(e){return P(e.target.value)}})]}),Object(s.jsx)(we.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(s.jsxs)(b.a,{md:8,children:[Object(s.jsx)("h2",{style:{textAlign:"center"},children:"My Orders"}),(null===q||void 0===q?void 0:q.getUserOrders.length)>0&&!U?Object(s.jsxs)(ze.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"ID"}),Object(s.jsx)("th",{children:"TOTAL"}),Object(s.jsx)("th",{children:"PAID"}),Object(s.jsx)("th",{children:"DELIVERED"}),Object(s.jsx)("th",{})]})}),q.getUserOrders.map((function(e){e.user,e.orderItems,e.shippingAddress,e.paymentMethod,e.taxPrice,e.shippingPrice;var t=e.totalPrice,n=e.paymentResult,r=e.isDelivered,c=e.deliveredAt,a=e._id;return Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:a}),Object(s.jsx)("td",{children:t}),Object(s.jsx)("td",{children:new Date(n.paidAt).toDateString()}),Object(s.jsx)("td",{children:r?c.substring(0,10):Object(s.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(s.jsx)("td",{children:Object(s.jsx)(h.LinkContainer,{to:"/order/".concat(a),children:Object(s.jsx)(we.a,{className:"btn-sm",variant:"light",children:"Details"})})})]})},a)}))]}):Object(s.jsx)("h4",{style:{textAlign:"center"},children:"Purchased items will display here :)"})]})]})},Xe=n(84);var Ze=function(e){var t=e.component,n=e.redirect,r=(e.adminRoute,Object(Xe.a)(e,["component","redirect","adminRoute"])),c=Object(o.useContext)(y).user;return Object(s.jsx)(j.Route,Object(i.a)(Object(i.a)({},r),{},{render:function(e){return c?Object(s.jsx)(t,Object(i.a)({},e)):Object(s.jsx)(j.Redirect,{to:n})}}))},et=function(e){var t=e.step1,n=e.step2,r=e.step3,c=e.step4,a=Object(o.useContext)(y).user;return Object(s.jsxs)(p.a,{className:"justify-content-center mb-4",children:[Object(s.jsx)(p.a.Item,{children:t?Object(s.jsx)(h.LinkContainer,{to:a?"/cart":"/login",children:Object(s.jsx)(p.a.Link,{children:"Sign In"})}):Object(s.jsx)(p.a.Link,{disabled:!0,children:"Sign In"})}),Object(s.jsx)(p.a.Item,{children:n?Object(s.jsx)(h.LinkContainer,{to:"/shipping",children:Object(s.jsx)(p.a.Link,{children:"Shipping"})}):Object(s.jsx)(p.a.Link,{disabled:!0,children:"Shipping"})}),Object(s.jsx)(p.a.Item,{children:r?Object(s.jsx)(h.LinkContainer,{to:"/payment",children:Object(s.jsx)(p.a.Link,{children:"Payment"})}):Object(s.jsx)(p.a.Link,{disabled:!0,children:"Payment"})}),Object(s.jsx)(p.a.Item,{children:c?Object(s.jsx)(h.LinkContainer,{to:"/placeorder",children:Object(s.jsx)(p.a.Link,{children:"Place Order"})}):Object(s.jsx)(p.a.Link,{disabled:!0,children:"Place Order"})})]})},tt=function(e){var t=e.history,n=Object(o.useContext)(qe),r=n.shippingAddress,c=n.saveAddress,a=Object(o.useState)(null===r||void 0===r?void 0:r.address),i=Object(v.a)(a,2),d=i[0],j=i[1],l=Object(o.useState)(null===r||void 0===r?void 0:r.city),u=Object(v.a)(l,2),b=u[0],O=u[1],h=Object(o.useState)(null===r||void 0===r?void 0:r.postalCode),p=Object(v.a)(h,2),m=p[0],x=p[1],g=Object(o.useState)(null===r||void 0===r?void 0:r.country),f=Object(v.a)(g,2),y=f[0],I=f[1];return Object(s.jsxs)(Ve,{children:[Object(s.jsx)(Re,{title:"Shipping"}),Object(s.jsx)(et,{step1:!0,step2:!0}),Object(s.jsx)("h1",{children:"Shipping"}),Object(s.jsxs)(Ae.a,{onSubmit:function(e){e.preventDefault(),c({address:d,city:b,postalCode:m,country:y}),t.push("/payment")},children:[Object(s.jsxs)(Ae.a.Group,{controlId:"address",children:[Object(s.jsx)(Ae.a.Label,{children:"Address"}),Object(s.jsx)(Ae.a.Control,{type:"text",placeholder:"Enter address",value:d||"",required:!0,onChange:function(e){return j(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"city",children:[Object(s.jsx)(Ae.a.Label,{children:"City"}),Object(s.jsx)(Ae.a.Control,{type:"text",placeholder:"Enter city",value:b||"",required:!0,onChange:function(e){return O(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"postalCode",children:[Object(s.jsx)(Ae.a.Label,{children:"Postal Code"}),Object(s.jsx)(Ae.a.Control,{type:"text",placeholder:"Enter postal code",value:m||"",required:!0,onChange:function(e){return x(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"country",children:[Object(s.jsx)(Ae.a.Label,{children:"Country"}),Object(s.jsx)(Ae.a.Control,{type:"text",placeholder:"Enter country",value:y||"",required:!0,onChange:function(e){return I(e.target.value)}})]}),Object(s.jsx)(we.a,{type:"submit",variant:"primary",children:"Continue"})]})]})},nt=function(e){var t=e.history,n=Object(o.useContext)(qe),r=n.shippingAddress,c=n.savePaymentMethod;r||t.push("/shipping");var a=Object(o.useState)("PayPal"),i=Object(v.a)(a,2),d=i[0],j=i[1];return Object(s.jsxs)(Ve,{children:[Object(s.jsx)(Re,{title:"Payment"}),Object(s.jsx)(et,{step1:!0,step2:!0,step3:!0}),Object(s.jsx)("h1",{children:"Payment Method"}),Object(s.jsxs)(Ae.a,{onSubmit:function(e){e.preventDefault(),c(d),t.push("/placeorder")},children:[Object(s.jsxs)(Ae.a.Group,{children:[Object(s.jsx)(Ae.a.Label,{as:"legend",children:"Select Method"}),Object(s.jsx)(b.a,{children:Object(s.jsx)(Ae.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"PayPal",name:"paymentMethod",value:d,checked:!0,onChange:j})})]}),Object(s.jsx)(we.a,{type:"submit",variant:"primary",children:"Continue"})]})]})},rt=n(133),ct=function(e){var t=e.history,n=Object(o.useContext)(qe),r=n.shippingAddress,c=n.paymentInfo,a=n.cartItems,i=Object(g.useQuery)(se),j=i.data,l=i.paypalLoading,O=Object(o.useState)(!1),h=Object(v.a)(O,2),p=h[0],m=h[1],x=Object(o.useState)(!1),f=Object(v.a)(x,2),y=f[0],I=f[1],P=Object(o.useState)(!1),S=Object(v.a)(P,2),C=S[0],k=S[1];Object(o.useEffect)((function(){if(j&&!l){var e=j.getPayPalClientID;console.log(e);var t=document.createElement("script");t.type="text/javascript",t.src="https://www.paypal.com/sdk/js?client-id=".concat(e),t.async=!0,t.onload=function(){return m(!0)},document.body.appendChild(t)}}),[j,l]);var A=Object(g.useMutation)(ie,{refetchQueries:[{query:oe}],onCompleted:function(e){console.log(e.createOrder),t.push({pathname:"/order/".concat(e.createOrder._id),state:{justOrdered:!0}})},onError:function(e){console.log(e),k(Object(s.jsx)(fe,{varian:"danger",error:e}))}}),w=Object(v.a)(A,2),$=w[0],D=w[1].loading;0===Object.keys(r).length?t.push("/shipping"):0===Object.keys(c).length&&t.push("/payment");var L=function(e){return(Math.round(100*e)/100).toFixed(2)},N={};N.itemsPrice=L(Object.values(a).reduce((function(e,t){return e+t.price*t.qty}),0)),N.shippingPrice=L(N.itemsPrice>100?0:10),N.taxPrice=L(Number((.15*N.itemsPrice).toFixed(2))),N.totalPrice=(Number(N.itemsPrice)+Number(N.shippingPrice)+Number(N.taxPrice)).toFixed(2);return D?Object(s.jsx)("h1",{children:"Submitting Order..."}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{title:"Place Order"}),C||!1,Object(s.jsx)(et,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{md:8,children:Object(s.jsxs)(Te.a,{variant:"flush",children:[Object(s.jsxs)(Te.a.Item,{children:[Object(s.jsx)("h2",{children:"Shipping"}),Object(s.jsxs)("p",{children:[Object(s.jsx)("strong",{children:"Address: "}),r.address,", ",r.city," ",r.postalCode,","," ",r.country]})]}),Object(s.jsxs)(Te.a.Item,{children:[Object(s.jsx)("h2",{children:"Payment Method"}),Object(s.jsx)("strong",{children:"Method: "}),c.payment]}),Object(s.jsxs)(Te.a.Item,{children:[Object(s.jsx)("h2",{children:"Order Items"}),0===Object.keys(a).length?Object(s.jsx)(ge.a,{variant:"danger",children:"Your cart is empty"}):Object(s.jsx)(Te.a,{variant:"flush",children:Object.values(a).map((function(e,t){return Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{md:1,children:Object(s.jsx)(Le.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(s.jsx)(b.a,{children:Object(s.jsx)(d.Link,{to:"/product/".concat(e.id),children:e.name})}),Object(s.jsxs)(b.a,{md:4,children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},t)}))})]})]})}),Object(s.jsx)(b.a,{md:4,children:Object(s.jsx)(ye.a,{children:Object(s.jsxs)(Te.a,{variant:"flush",children:[Object(s.jsx)(Te.a.Item,{children:Object(s.jsx)("h2",{children:"Order Summary"})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"Items"}),Object(s.jsxs)(b.a,{children:["$",N.itemsPrice]})]})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"Shipping"}),Object(s.jsxs)(b.a,{children:["$",N.shippingPrice]})]})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"Tax"}),Object(s.jsxs)(b.a,{children:["$",N.taxPrice]})]})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"Total"}),Object(s.jsxs)(b.a,{children:["$",N.totalPrice]})]})}),Object(s.jsx)(Te.a.Item,{children:y}),Object(s.jsx)(Te.a.Item,{children:p?Object(s.jsx)(rt.PayPalButton,{amount:N.totalPrice,onSuccess:function(e){if(e){var t=Object.values(a).map((function(e){return{id:e.id,qty:Number(e.qty)}}));$({variables:{orderItems:t,shippingAddress:r,paymentMethod:c.payment,itemsPrice:Number(N.itemsPrice),shippingPrice:Number(N.shippingPrice),taxPrice:Number(N.taxPrice),totalPrice:Number(N.totalPrice),paymentResult:{emailAddress:e.payer.email_address,paidAt:e.update_time,paymentID:e.id}}})}else I(Object(s.jsx)(ge.a,{variant:"danger",children:"Error Completing purchase. Please try again or contact fake@email.com for support"}))}}):Object(s.jsx)(Ce.a,{count:1,height:60})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsx)(we.a,{style:{display:"flex",margin:"0 auto"},children:Object(s.jsx)(d.Link,{to:"/",style:{color:"white"},children:"Return to Shopping"})})})]})})})]})]})},at=function(e){var t,n,r=e.match,c=e.history,a=Object(o.useContext)(y).user,i=Object(o.useContext)(qe).deleteCart,l=Object(o.useState)(null===(t=c.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.justOrdered),O=Object(v.a)(l,2),h=O[0],p=O[1];Object(o.useEffect)((function(){h&&(i(),p(!1))}),[h,i]);var m=Object(o.useState)(!1),x=Object(v.a)(m,2),f=x[0],I=x[1],P=Object(g.useMutation)(Oe,{refetchQueries:[{query:de,variables:{orderID:r.params.id}}],onError:function(e){I(Object(s.jsx)(fe,{variant:"danger",error:e}))}}),S=Object(v.a)(P,1)[0],C=Object(g.useQuery)(de,{variables:{orderID:r.params.id}}),k=C.data,A=C.loading,w=C.queryError;if(w)return Object(s.jsx)(fe,{variant:"danger",error:w});var $=(null===k||void 0===k?void 0:k.getUserOrder[0])||{user:"",orderItems:"",shippingAddress:"",paymentMethod:"",taxPrice:"",shippingPrice:"",totalPrice:"",paymentResult:"",isDelivered:"",deliveredAt:"",_id:""},D=$.user,L=$.orderItems,N=$.shippingAddress,E=$.paymentMethod,R=$.taxPrice,M=$.shippingPrice,T=$.totalPrice,_=$.paymentResult,q=$.isDelivered,U=$.deliveredAt,G=$._id;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{title:"Order"}),!A&&!a.isAdmin&&D._id!==a.id&&Object(s.jsx)(j.Redirect,{to:"/"}),Object(s.jsx)(et,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(s.jsxs)(u.a,{children:[Object(s.jsxs)(b.a,{md:8,children:[Object(s.jsx)("h1",{children:A?Object(s.jsx)(Ce.a,{count:1,height:40}):"Order: ".concat(G)}),Object(s.jsxs)(Te.a,{variant:"flush",children:[Object(s.jsxs)(Te.a.Item,{children:[Object(s.jsx)("h2",{children:"Shipping"}),Object(s.jsx)("br",{}),A?Object(s.jsx)(Ce.a,{count:2,height:20}):Object(s.jsxs)("div",{style:{textIndent:"50px"},children:[Object(s.jsx)("p",{children:N.address}),Object(s.jsx)("p",{children:"".concat(N.city,", ").concat(N.postalCode)}),Object(s.jsx)("p",{children:N.country})]}),A?Object(s.jsx)(Ce.a,{count:1,height:20}):q?Object(s.jsx)(ge.a,{variant:"success",children:"Product delivered at: ".concat(U)}):Object(s.jsx)(ge.a,{variant:"info",children:"Product Shipment: Pending"})]}),Object(s.jsx)("h2",{children:"Payment Method"}),A?Object(s.jsx)(Ce.a,{count:2,height:10}):Object(s.jsx)(Te.a.Item,{children:Object(s.jsx)(ge.a,{variant:"success",style:{whiteSpace:"pre-line"},children:"".concat(E,": Payment Success! \n\t\t\t\t\t\t\t\t\t\tPaid on: ").concat(new Date(_.paidAt).toDateString())})}),Object(s.jsxs)(Te.a.Item,{children:[Object(s.jsx)("h2",{children:"Order Items"}),A?Object(s.jsx)(Ce.a,{count:1,height:30}):Object(s.jsx)(Te.a,{variant:"flush",children:Object.values(L).map((function(e,t){var n=e.product,r=e.qtyOrdered;return Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{md:1,children:Object(s.jsx)(Le.a,{src:n.image,alt:n.name,fluid:!0,rounded:!0})}),Object(s.jsx)(b.a,{children:Object(s.jsx)(d.Link,{to:"/product/".concat(n.id),children:n.name})}),Object(s.jsxs)(b.a,{md:4,children:[r," x $",n.price," = $",r*n.price]})]})},t)}))})]})]})]}),Object(s.jsx)(b.a,{md:4,children:Object(s.jsx)(ye.a,{children:A?Object(s.jsx)(Ce.a,{count:3,height:10}):Object(s.jsxs)(Te.a,{variant:"flush",children:[Object(s.jsx)(Te.a.Item,{children:Object(s.jsx)("h2",{children:"Order Summary"})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"Shipping"}),Object(s.jsxs)(b.a,{children:["$",M]})]})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"Tax"}),Object(s.jsxs)(b.a,{children:["$",R]})]})}),Object(s.jsx)(Te.a.Item,{children:Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b.a,{children:"Total"}),Object(s.jsxs)(b.a,{children:["$",T]})]})}),a.isAdmin&&!q&&Object(s.jsxs)(Te.a.Item,{children:[f,Object(s.jsx)(we.a,{type:"button",className:"btn btn-block",onClick:function(){S({variables:{orderID:G}})},children:"Mark As Delivered"})]})]})})})]})]})},it=function(e){e.history;var t=Object(g.useQuery)(le),n=t.data,r=t.loading,c=t.error,a=Object(o.useState)(!1),i=Object(v.a)(a,2),d=i[0],j=i[1];d&&j(c);var l=Object(g.useMutation)(be,{refetchQueries:[{query:le}]}),u=Object(v.a)(l,1)[0],b=Object(o.useState)(!1),O=Object(v.a)(b,2),h=O[0],p=O[1],m=Object(g.useMutation)(ue,{update:function(e,t){var n=t.data;if("not deleted"!==n.deleteUser){var r=e.readQuery({query:le}).getUsers;e.writeQuery({query:le,data:{getUsers:r.filter((function(e){return e._id!==n.deleteUser}))}})}else p("Problem deleting user")},onCompleted:function(){p(Object(s.jsx)(ge.a,{variant:"success",onClose:function(){return p(!1)},style:{width:"30%"},className:"float-right",dismissible:!0,children:"User Deleted"}))},onError:function(e){j(e)}}),x=Object(v.a)(m,1)[0];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{title:"User List"}),d&&Object(s.jsx)(fe,{variant:"danger",error:d}),Object(s.jsx)("h1",{children:"Users"}),r?Object(s.jsx)("h1",{children:"Loading userslist..."}):Object(s.jsxs)(ze.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"ID"}),Object(s.jsx)("th",{children:"NAME"}),Object(s.jsx)("th",{children:"EMAIL"}),Object(s.jsx)("th",{children:"ADMIN"}),Object(s.jsx)("th",{})]})}),Object(s.jsx)("tbody",{children:n.getUsers.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e._id}),Object(s.jsx)("td",{children:e.username}),Object(s.jsx)("td",{children:Object(s.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(s.jsxs)("td",{children:[e.isAdmin?Object(s.jsx)("i",{className:"fas fa-check",style:{color:"green",marginRight:"20px"}}):Object(s.jsx)("i",{className:"fas fa-times",style:{color:"red",marginRight:"20px"}}),Object(s.jsxs)(we.a,{variant:"info",className:"btn-sm",onClick:function(){return u({variables:{id:e._id}})},children:[Object(s.jsx)("i",{className:"fas fa-edit"}),"Edit Admin Status"]})]}),Object(s.jsx)("td",{children:Object(s.jsx)(we.a,{variant:"danger",className:"btn-sm",onClick:function(){return t=e._id,void(window.confirm("Are you sure")&&x({variables:{id:t}}));var t},children:Object(s.jsx)("i",{className:"fas fa-trash"})})})]},e._id)}))})]}),h]})};var st=function(e){var t=e.component,n=e.redirect,r=Object(Xe.a)(e,["component","redirect"]),c=Object(o.useContext)(y).user;return Object(s.jsx)(j.Route,Object(i.a)(Object(i.a)({},r),{},{render:function(e){return c&&(null===c||void 0===c?void 0:c.isAdmin)?Object(s.jsx)(t,Object(i.a)({},e)):Object(s.jsx)(j.Redirect,{to:n})}}))},ot=function(e){var t=e.history,n=(e.match,Object(g.useQuery)(X)),r=n.data,c=(n.loading,n.fetchMore),a=Object(o.useState)(!1),i=Object(v.a)(a,2),d=i[0],j=i[1],l=Object(o.useState)(!1),O=Object(v.a)(l,2),h=O[0],p=O[1],m=Object(g.useMutation)(ee,{update:function(e,t){var n=t.data;if("not deleted"!==n.deleteUser){var r=e.readQuery({query:X}).getProducts;e.writeQuery({query:X,data:{getProducts:r.filter((function(e){return e.id!==n.deleteProduct}))}})}else p("Problem deleting user")},onCompleted:function(){p(Object(s.jsx)(ge.a,{variant:"success",onClose:function(){return p(!1)},style:{width:"30%"},className:"float-right",dismissible:!0,children:"Product Deleted"}))},onError:function(e){j(e)}}),x=Object(v.a)(m,1)[0];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{title:"Product List"}),d&&Object(s.jsx)(fe,{variant:"danger",error:d}),Object(s.jsxs)(u.a,{className:"align-items-center",children:[Object(s.jsx)(b.a,{children:Object(s.jsx)("h1",{children:"Products"})}),Object(s.jsx)(b.a,{className:"text-right",children:Object(s.jsxs)(we.a,{className:"my-3",onClick:function(){t.push("/admin/createproduct")},children:[Object(s.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),Object(s.jsxs)(ze.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"ID"}),Object(s.jsx)("th",{children:"NAME"}),Object(s.jsx)("th",{children:"PRICE"}),Object(s.jsx)("th",{children:"CATEGORY"}),Object(s.jsx)("th",{children:"BRAND"}),Object(s.jsx)("th",{})]})}),Object(s.jsx)("tbody",{children:null===r||void 0===r?void 0:r.getProducts.map((function(e,n){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.id}),Object(s.jsx)("td",{children:e.name}),Object(s.jsxs)("td",{children:["$",e.price]}),Object(s.jsx)("td",{children:e.category}),Object(s.jsx)("td",{children:e.brand}),Object(s.jsxs)("td",{children:[Object(s.jsx)(we.a,{variant:"light",className:"btn-sm",onClick:function(){return n=e.id,void t.push("/admin/product/edit/".concat(n));var n},children:Object(s.jsx)("i",{className:"fas fa-edit"})}),Object(s.jsx)(we.a,{variant:"danger",className:"btn-sm",onClick:function(){return t=e.id,void(window.confirm("Are you sure")&&x({variables:{id:t}}));var t},children:Object(s.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)})}))})]}),Object(s.jsx)(xe.a,{onEnter:function(){return c({variables:{_id:null===r||void 0===r?void 0:r.getProducts[r.getProducts.length-1].id},updateQuery:function(e,t){var n=t.fetchMoreResult;if(n)return{getProducts:[].concat(Object(A.a)(e.getProducts),Object(A.a)(n.getProducts))}}})}}),h]})},dt=(n(164),n(94)),jt=(n(182),n(134)),lt=n.n(jt),ut=n(135),bt=n.n(ut);n(183);Object(dt.registerPlugin)(lt.a,bt.a);var Ot=function(e){var t,n,r,c,a,i,d,j,l=e.data,u=e.submitHandler,b=Object(o.useState)((null===l||void 0===l||null===(t=l.getProduct)||void 0===t?void 0:t.name)||""),O=Object(v.a)(b,2),h=O[0],p=O[1],m=Object(o.useState)((null===l||void 0===l||null===(n=l.getProduct)||void 0===n?void 0:n.price)||0),x=Object(v.a)(m,2),g=x[0],f=x[1],y=Object(o.useState)((null===l||void 0===l||null===(r=l.getProduct)||void 0===r?void 0:r.image)||""),I=Object(v.a)(y,2),P=I[0],S=I[1],C=Object(o.useState)([]),k=Object(v.a)(C,2),A=k[0],w=k[1],$=Object(o.useState)((null===l||void 0===l||null===(c=l.getProduct)||void 0===c?void 0:c.brand)||""),D=Object(v.a)($,2),L=D[0],N=D[1],E=Object(o.useState)((null===l||void 0===l||null===(a=l.getProduct)||void 0===a?void 0:a.category)||""),R=Object(v.a)(E,2),M=R[0],T=R[1],_=Object(o.useState)((null===l||void 0===l||null===(i=l.getProduct)||void 0===i?void 0:i.countInStock)||0),q=Object(v.a)(_,2),U=q[0],G=q[1],F=Object(o.useState)((null===l||void 0===l||null===(d=l.getProduct)||void 0===d?void 0:d.description)||""),Q=Object(v.a)(F,2),B=Q[0],J=Q[1],V=Object(o.useState)(!1),H=Object(v.a)(V,2);H[0],H[1];return Object(o.useEffect)((function(){0!==A.length&&S(!1)}),[A]),Object(s.jsx)("div",{children:Object(s.jsxs)(Ae.a,{onSubmit:function(e){var t;return u({e:e,id:null===l||void 0===l?void 0:l.getProduct.id,name:h,price:Number(g),image:null===(t=A[0])||void 0===t?void 0:t.file,brand:L,category:M,countInStock:Number(U),description:B})},children:[Object(s.jsxs)(Ae.a.Group,{controlId:"name",children:[Object(s.jsx)(Ae.a.Label,{children:"Name"}),Object(s.jsx)(Ae.a.Control,{type:"name",placeholder:(null===l||void 0===l||null===(j=l.getProduct)||void 0===j?void 0:j.name)||"Enter name",value:h,onChange:function(e){return p(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"price",children:[Object(s.jsx)(Ae.a.Label,{children:"Price"}),Object(s.jsx)(Ae.a.Control,{type:"number",placeholder:(null===l||void 0===l?void 0:l.getProduct.price)||"Enter price",value:g,onChange:function(e){return f(e.target.value)}})]}),!!P&&Object(s.jsx)(ye.a.Img,{src:P,variant:"top"}),Object(s.jsx)(dt.FilePond,{files:A,onupdatefiles:w,allowMultiple:!1,name:"files",labelIdle:'Drag & Drop your files or <span class="filepond--label-action">Browse</span>'}),Object(s.jsxs)(Ae.a.Group,{controlId:"brand",children:[Object(s.jsx)(Ae.a.Label,{children:"Brand"}),Object(s.jsx)(Ae.a.Control,{type:"text",placeholder:(null===l||void 0===l?void 0:l.getProduct.brand)||"Enter brand",value:L,onChange:function(e){return N(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"countInStock",children:[Object(s.jsx)(Ae.a.Label,{children:"Count In Stock"}),Object(s.jsx)(Ae.a.Control,{type:"number",placeholder:(null===l||void 0===l?void 0:l.getProduct.countInStock)||"Enter countInStock",value:U,onChange:function(e){return G(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"category",children:[Object(s.jsx)(Ae.a.Label,{children:"Category"}),Object(s.jsx)(Ae.a.Control,{type:"text",placeholder:(null===l||void 0===l?void 0:l.getProduct.category)||"Enter category",value:M,onChange:function(e){return T(e.target.value)}})]}),Object(s.jsxs)(Ae.a.Group,{controlId:"description",children:[Object(s.jsx)(Ae.a.Label,{children:"Description"}),Object(s.jsx)(Ae.a.Control,{type:"text",placeholder:(null===l||void 0===l?void 0:l.getProduct.description)||"Enter description",value:B,onChange:function(e){return J(e.target.value)}})]}),Object(s.jsx)(we.a,{type:"submit",variant:"primary",children:"Update"})]})})},ht=function(e){var t=e.match,n=e.history,r=t.params.id,c=Object(g.useQuery)(K,{variables:{productID:r}}),a=c.data,i=c.loading,j=Object(o.useState)(!1),l=Object(v.a)(j,2),u=l[0],b=l[1],O=Object(g.useMutation)(ne,{onCompleted:function(){n.push("/admin/productslist")},onError:function(e){console.log(e),b(Object(s.jsx)(fe,{variant:"danger",error:e}))}}),h=Object(v.a)(O,2),p=h[0];h[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{title:"Edit Product"}),Object(s.jsx)(d.Link,{to:"/admin/productslist",className:"btn btn-light my-3",children:"Go Back"}),Object(s.jsx)(Ve,{children:i?Object(s.jsx)("h1",{children:"Loading..."}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Edit Product"}),u,Object(s.jsx)(Ot,{data:a,submitHandler:function(e){var t=e.e,n=e.id,r=e.name,c=e.price,a=e.image,i=e.brand,s=e.category,o=e.countInStock,d=e.description;t.preventDefault(),p({variables:{id:n,name:r,price:c,image:a="string"===typeof a?void 0:a,brand:i,category:s,countInStock:o,description:d}})}})]})})]})},pt=function(e){var t=e.history,n=Object(o.useState)(!1),r=Object(v.a)(n,2),c=r[0],a=r[1],i=Object(g.useMutation)(te,{refetchQueries:[{query:X}],onCompleted:function(){t.push("/admin/productslist")},onError:function(e){console.log(e),a(Object(s.jsx)(fe,{variant:"danger",error:e}))}}),j=Object(v.a)(i,2),l=j[0];j[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)(Re,{title:"Create Product"}),Object(s.jsx)(d.Link,{to:"/admin/productslist",className:"btn btn-light my-3",children:"Go Back"}),Object(s.jsxs)(Ve,{children:[Object(s.jsx)("h1",{children:"Create Product"}),c,Object(s.jsx)(Ot,{submitHandler:function(e){var t=e.e,n=e.name,r=e.price,c=e.image,i=e.brand,o=e.category,d=e.countInStock,j=e.description;if(t.preventDefault(),null==c||0===c.length)return a(Object(s.jsx)(ge.a,{variant:"danger",children:"Image not properly uploaded"}));l({variables:{name:n,price:r,image:c="string"===typeof c?void 0:c,brand:i,category:o,countInStock:d,description:j}})}})]})]})},mt=function(e){e.history;var t=Object(g.useQuery)(je),n=t.data,r=t.loading;return n&&console.log(n.getOrders),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{title:"Order List"}),Object(s.jsx)("h1",{children:"Orders"}),Object(s.jsxs)(ze.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"ID"}),Object(s.jsx)("th",{children:"USER"}),Object(s.jsx)("th",{children:"DATE"}),Object(s.jsx)("th",{children:"TOTAL"}),Object(s.jsx)("th",{children:"PAID"}),Object(s.jsx)("th",{children:"DELIVERED"}),Object(s.jsx)("th",{})]})}),Object(s.jsx)("tbody",{children:r?Object(s.jsx)("h1",{children:"Loading..."}):n.getOrders.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e._id}),Object(s.jsx)("td",{children:e.user&&e.user.username}),Object(s.jsx)("td",{children:e.paymentResult.paidAt}),Object(s.jsxs)("td",{children:["$",e.totalPrice]}),Object(s.jsx)("td",{children:Object(s.jsx)("i",{className:"fas fa-check",style:{color:"green",marginRight:"20px"}})}),Object(s.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(s.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(s.jsx)("td",{children:Object(s.jsx)(h.LinkContainer,{to:"/order/".concat(e._id),children:Object(s.jsx)(we.a,{variant:"light",className:"btn-sm",children:"Details"})})})]},e._id)}))})]})]})},xt=function(){return Object(s.jsx)(C,{children:Object(s.jsx)(Fe,{children:Object(s.jsxs)(d.BrowserRouter,{children:[Object(s.jsx)(k,{}),Object(s.jsx)("main",{className:"py-3",children:Object(s.jsxs)(l.a,{children:[Object(s.jsx)(j.Route,{exact:!0,path:"/search/:keyword",component:Me}),Object(s.jsx)(j.Route,{exact:!0,path:"/",component:Me}),Object(s.jsx)(j.Route,{path:"/login",component:He}),Object(s.jsx)(j.Route,{path:"/register",component:We}),Object(s.jsx)(j.Route,{path:"/product/:id",component:Je}),Object(s.jsx)(Ze,{path:"/cart/:id?",component:Ye,redirect:"/login"})," ",Object(s.jsx)(Ze,{path:"/shipping",component:tt}),Object(s.jsx)(Ze,{path:"/payment",component:nt}),Object(s.jsx)(Ze,{path:"/placeorder",component:ct}),Object(s.jsx)(Ze,{path:"/order/:id?",component:at,redirect:"/login"}),Object(s.jsx)(Ze,{path:"/profile",component:Ke,redirect:"/login"}),Object(s.jsx)(st,{path:"/admin/userlist",component:it,redirect:"/"}),Object(s.jsx)(st,{path:"/admin/productslist",component:ot,redirect:"/"}),Object(s.jsx)(st,{path:"/admin/product/edit/:id",component:ht,redirect:"/"}),Object(s.jsx)(st,{path:"/admin/createproduct",component:pt,redirect:"/"}),Object(s.jsx)(st,{path:"/admin/orderslist",component:mt,redirect:"/"})]})}),Object(s.jsx)(O,{})]})})})},gt=n(201),vt=n.n(gt),ft=n(136),yt=n(137),It=Object(ft.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map((function(e){var t=e.message,n=e.locations,r=e.path;return console.log("GraphQL error]: Message: ",t)&&console.log("Location: ",n)&&console.log("Path: ",r)})),n&&console.log("[Network error]: ".concat(n))})),Pt=vt()({uri:"http://localhost:5000/graphql",credentials:"include"}),St=Object(yt.a)((function(e,t){var n=t.headers,r=localStorage.getItem("UserToken");return{headers:Object(i.a)(Object(i.a)({},n),{},{authorization:r?"Bearer ".concat(r):""})}})),Ct=Object(g.from)([It,St.concat(Pt)]),kt=new g.ApolloClient({link:Ct,cache:new g.InMemoryCache,credentials:"include"}),At=Object(s.jsx)(g.ApolloProvider,{client:kt,children:Object(s.jsx)(xt,{})});c.a.render(At,document.getElementById("root")),a()},95:function(e,t,n){}},[[189,1,2]]]);
//# sourceMappingURL=main.f981e763.chunk.js.map